<section class="content-header">
  <h1>
    Add New HTML Exercise
    <small>Write an introducion and instructions foreach exercise.</small>
  </h1>
  <ol class="breadcrumb">
    <li><a ng-href="#/"><i class="fa fa-dashboard"></i> Home</a></li>
    <li><a ng-href="#/viewAllHTMLExercises"><i class="fa fa-laptop"></i>HTML Exercises</a></li>
    <li class="active"><a ng-href="#/addHtmlExercise"></i>New HTML Exercise</a></li>
  </ol>
</section>

<!-- Main content -->
<section class="content">
	<div class="inner-page">	
		<div class="box box-primary">
			<div class="box-body">
				<form name="reviewForm" novalidate>
					<div class="form-group">
						<label for="exercise-name" class="test-name">Exercise name: </label>
						<input type="text" ng-model="exercise.name" id="exercise-name" class="form-control" required />
					</div>
					<div class="form-group">
						<label for="suitable">Suitable for:</label>
						<select id="suitable" class="form-control" ng-model="exercise.suitable" required>
							<option>Beginners</option>
							<option>Middle Level</option>
							<option>Advanced</option>
						</select>
					</div>
					<h3>Item {{currentExercise + 1}}</h3>

					<div class="form-group">
						<label for="exercise-intro">Introduction: </label>
						<textarea rows="5" ng-model="exercise.exercises[currentExercise].introduction" id="exercise-intro" class="form-control" required ></textarea>
					</div>


					<div id="htmlEditor" class="editor">{{exercise.exercises[currentExercise].html}}</div>
					<textarea id="html-content" ng-model="exercise.exercises[currentExercise].html" ng-change="updatePage()"></textarea>

					<div id="cssEditor" class="editor">{{exercise.exercises[currentExercise].css}}</div>

					<textarea id="css-content" rows="20" cols="42" ng-model="exercise.exercises[currentExercise].css"></textarea>


					<iframe id="user-output" width="480px" height="400px;">
					</iframe>

					<div class="form-group">
						<label for="exercise-instructions">Instructions: </label>
						<textarea rows="5" ng-model="exercise.exercises[currentExercise].instructions" id="exercise-instructions" class="form-control"></textarea>
					</div>
					<div class="form-group">
						<label for="exercise-check">Check function: </label>
						<i>Write an expression that evaluates to true or false. For exapmle : <pre>$('#user-output').contents().find('h1').next().is('h2')</pre> </i>
						<textarea rows="5" ng-model="exercise.exercises[currentExercise].checkFunction" id="exercise-check" class="form-control" required></textarea>
					</div>
					<div class="form-group">
						<label for="exercise-err">Specific error message </label>
						<textarea rows="5" ng-model="exercise.exercises[currentExercise].errorMsg" id="exercise-err" class="form-control"></textarea>
					</div>
				</form>
			</div>
			<div class="box-footer">
				<div class="row">
					<div class="col-md-6">
						<button ng-click="prevExercise()" class="btn btn-primary" ng-class="{ disabled : currentExercise == 0 }"> Previous Exercise </button>
					</div>
					<div class="col-md-6">
						<button ng-click="nextExercise()" class="btn btn-primary pull-right" ng-class="{ disabled : (currentExercise + 1) == exerciseCount }"> Next Exercise </button>	
					</div>
				</div>
				<div class="row">
					<div class="col-md-6">
						<button class="btn btn-success" ng-class="{disabled : !reviewForm.$valid}" ng-click="saveHTMLExercise()">Save</button>
					</div>
					<div class="col-md-6">
						<button ng-click="addNewExercise()" class="btn btn-success pull-right" ng-class="{ disabled : (exerciseCount != (currentExercise + 1)) || !reviewForm.$valid }"> Add New Exercise </button>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>